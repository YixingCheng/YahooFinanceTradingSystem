
/**
 *  YAHOO FINANCE TRADING SYSTEM 
 *  DEVELOPMENT LOG
 *
 *
 */


3/19/2016

1. add a db user to local ORACLE
   username: yftsdba
   password: 123mercury
   using all defaulty settings

2  add a table to store users for YFTS
   CREATE TABLE yfts_user
   ( user_id       NUMBER(8),
     username      VARCHAR2(30) NOT NULL,
     password      VARCHAR2(30) NOT NULL,
     email         VARCHAR2(40) NOT NULL,
     firstname     VARCHAR2(20) NOT NULL,
     lastname      VARCHAR2(20) NOT NULL,
     cash          NUMBER(10,2),
     balance       NUMBER(10,2),
     authority     VARCHAR2(20) NOT NULL,
     enable        NUMBER(1) NOT NULL,
     CONSTRAINT user_pk PRIMARY KEY (user_id) 
    );

3  add table to store user roles
   CREATE TABLE user_roles
   ( user_role_id   NUMBER(3),
     user_id        NUMBER(8) NOT NULL,
     authority      VARCHAR2(20) NOT NULL,
     CONSTRAINT user_roles_pk PRIMARY KEY (user_role_id),
     CONSTRAINT user_roles_fk FOREIGN KEY (user_id) REFERENCES yfts_user(user_id)
    );


4   add a table to store stock info
    CREATE TABLE yfts_stock
    ( stock_id      NUMBER(8),
      symbol        VARCHAR2(30) NOT NULL,
      stockdesc     VARCHAR2(200),
      CONSTRAINT yfts_stock_pk PRIMARY KEY (stock_id)
    );

5   add a table to store user's watchlist
    CREATE TABLE yfts_watchlist
    ( user_id		NUMBER(8),
      stock_id		NUMBER(8),
      CONSTRAINT yfts_watchlist_fk_uid FOREIGN KEY (user_id) REFERENCES yfts_user(user_id),
      CONSTRAINT yfts_watchlist_fk_sid FOREIGN KEY (stock_id) REFERENCES yfts_stock(stock_id)
    );

6   add a table to store all transactions of users
    CREATE TABLE yfts_trans
    ( tran_id           NUMBER(10),
      user_id		NUMBER(8),
      stock_id          NUMBER(8),
      timestamp		TIMESTAMP(1),
      price             NUMBER(6,3),
      quantity          NUMBER(9),
      CONSTRAINT yfts_trans_pk PRIMARY KEY (tran_id),
      CONSTRAINT yfts_trans_uid_fk FOREIGN KEY (user_id) REFERENCES yfts_user(user_id),
      CONSTRAINT yfts_trans_sid_fk FOREIGN KEY (stock_id) REFERENCES yfts_stock(stock_id)
     );